2025-11-24 06:04:15.586 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:04:17.971 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (213ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:04:19.194 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:04:19.267 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:04:25.304 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 55.0265 ms
2025-11-24 06:04:25.326 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.1217018
2025-11-24 06:04:33.387 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger was executed in 0.0035439
2025-11-24 06:04:33.512 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/index.html was executed in 0.1034079
2025-11-24 06:04:33.641 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/index.js was executed in 0.055115
2025-11-24 06:04:33.699 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/index.css was executed in 0.1489167
2025-11-24 06:04:33.726 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/swagger-ui.css was executed in 0.1756714
2025-11-24 06:04:33.726 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/swagger-ui-standalone-preset.js was executed in 0.139085
2025-11-24 06:04:33.748 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/swagger-ui-bundle.js was executed in 0.1628286
2025-11-24 06:04:34.211 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/favicon-32x32.png was executed in 0.0006801
2025-11-24 06:04:34.231 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.0482
2025-11-24 06:07:16.651 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (419ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:07:17.083 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (200ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:07:17.265 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (46ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-11-24 06:07:17.387 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:07:17.437 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:07:17.473 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:07:17.498 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:07:18.651 +03:00 [ERR] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 500 in 2903.2776 ms
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Restaurant.Infrastucture.Authorization.RestaurantsUserClaimsPrincipalFactory.CreateAsync(User user) in D:\TESTPROJECTS\Restaurant\Restaurant.Infrastucture\Authorization\RestaurantsUserClaimsPrincipalFactory.cs:line 29
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Routing.IdentityApiEndpointRouteBuilderExtensions.<>c__1`1.<<MapIdentityApi>b__1_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>FF7346E1288C5D8BC2E62C7A387035B29071CD685D3A402D2E21F356417491850__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-11-24 06:07:19.427 +03:00 [ERR] (Thread ) |Restaurant.Middleware.ErrorHandlingMiddleware| 
 Error
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Restaurant.Infrastucture.Authorization.RestaurantsUserClaimsPrincipalFactory.CreateAsync(User user) in D:\TESTPROJECTS\Restaurant\Restaurant.Infrastucture\Authorization\RestaurantsUserClaimsPrincipalFactory.cs:line 29
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Routing.IdentityApiEndpointRouteBuilderExtensions.<>c__1`1.<<MapIdentityApi>b__1_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>FF7346E1288C5D8BC2E62C7A387035B29071CD685D3A402D2E21F356417491850__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Restaurant.Middleware.RequestTimeMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\TESTPROJECTS\Restaurant\Restaurant\Middleware\RequestTimeMiddleware.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurant.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\TESTPROJECTS\Restaurant\Restaurant\Middleware\ErrorHandlingMiddleware.cs:line 11
2025-11-24 06:07:34.892 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:07:35.061 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:07:35.076 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (10ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-11-24 06:07:35.110 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 401 in 326.2065 ms
2025-11-24 06:07:35.116 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/users/login was executed in 0.3322426
2025-11-24 06:08:50.971 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:08:51.752 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:08:52.229 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:08:52.262 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:08:54.815 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 29.4906 ms
2025-11-24 06:08:54.824 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0640553
2025-11-24 06:09:04.455 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.058261
2025-11-24 06:09:43.146 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (61ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:09:43.370 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:09:43.514 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (23ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-11-24 06:09:43.593 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:09:43.631 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:09:43.655 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:09:43.683 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:09:43.707 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 1022.9793 ms
2025-11-24 06:09:43.710 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/users/login was executed in 1.0262947
2025-11-24 06:15:54.023 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:15:55.336 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:15:55.881 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:15:55.935 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:15:59.239 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 23.9969 ms
2025-11-24 06:15:59.248 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0540073
2025-11-24 06:16:07.184 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.1141368
2025-11-24 06:16:45.494 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (395ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:17:02.372 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:17:02.425 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:17:02.457 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:17:02.486 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:17:05.312 +03:00 [ERR] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 500 in 20832.6536 ms
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Restaurant.Infrastucture.Authorization.RestaurantsUserClaimsPrincipalFactory.CreateAsync(User user) in D:\TESTPROJECTS\Restaurant\Restaurant.Infrastucture\Authorization\RestaurantsUserClaimsPrincipalFactory.cs:line 29
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Routing.IdentityApiEndpointRouteBuilderExtensions.<>c__1`1.<<MapIdentityApi>b__1_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>FF7346E1288C5D8BC2E62C7A387035B29071CD685D3A402D2E21F356417491850__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-11-24 06:17:05.998 +03:00 [ERR] (Thread ) |Restaurant.Middleware.ErrorHandlingMiddleware| 
 Error
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Restaurant.Infrastucture.Authorization.RestaurantsUserClaimsPrincipalFactory.CreateAsync(User user) in D:\TESTPROJECTS\Restaurant\Restaurant.Infrastucture\Authorization\RestaurantsUserClaimsPrincipalFactory.cs:line 29
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Routing.IdentityApiEndpointRouteBuilderExtensions.<>c__1`1.<<MapIdentityApi>b__1_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>FF7346E1288C5D8BC2E62C7A387035B29071CD685D3A402D2E21F356417491850__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Restaurant.Middleware.RequestTimeMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\TESTPROJECTS\Restaurant\Restaurant\Middleware\RequestTimeMiddleware.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurant.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\TESTPROJECTS\Restaurant\Restaurant\Middleware\ErrorHandlingMiddleware.cs:line 11
2025-11-24 06:18:41.555 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:18:42.060 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:18:42.390 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:18:42.416 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:18:44.166 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 35.1997 ms
2025-11-24 06:18:44.175 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0603146
2025-11-24 06:18:50.903 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.0804979
2025-11-24 06:19:23.848 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:19:28.631 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:19:28.662 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:19:28.678 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:19:28.700 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:19:35.862 +03:00 [ERR] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 500 in 12273.6858 ms
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Restaurant.Infrastucture.Authorization.RestaurantsUserClaimsPrincipalFactory.CreateAsync(User user) in D:\TESTPROJECTS\Restaurant\Restaurant.Infrastucture\Authorization\RestaurantsUserClaimsPrincipalFactory.cs:line 30
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Routing.IdentityApiEndpointRouteBuilderExtensions.<>c__1`1.<<MapIdentityApi>b__1_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>FF7346E1288C5D8BC2E62C7A387035B29071CD685D3A402D2E21F356417491850__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-11-24 06:19:36.739 +03:00 [ERR] (Thread ) |Restaurant.Middleware.ErrorHandlingMiddleware| 
 Error
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Restaurant.Infrastucture.Authorization.RestaurantsUserClaimsPrincipalFactory.CreateAsync(User user) in D:\TESTPROJECTS\Restaurant\Restaurant.Infrastucture\Authorization\RestaurantsUserClaimsPrincipalFactory.cs:line 30
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Routing.IdentityApiEndpointRouteBuilderExtensions.<>c__1`1.<<MapIdentityApi>b__1_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>FF7346E1288C5D8BC2E62C7A387035B29071CD685D3A402D2E21F356417491850__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Restaurant.Middleware.RequestTimeMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\TESTPROJECTS\Restaurant\Restaurant\Middleware\RequestTimeMiddleware.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurant.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in D:\TESTPROJECTS\Restaurant\Restaurant\Middleware\ErrorHandlingMiddleware.cs:line 11
2025-11-24 06:25:51.661 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:25:52.594 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:25:53.095 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:25:53.118 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:25:55.299 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 31.8120 ms
2025-11-24 06:25:55.310 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0771083
2025-11-24 06:26:00.623 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.0545217
2025-11-24 06:26:46.313 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (46ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:26:51.196 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:26:51.238 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:26:51.253 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:26:51.275 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:26:54.375 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 8391.9071 ms
2025-11-24 06:28:33.906 +03:00 [WRN] (Thread ) |LuckyPennySoftware.MediatR.License| 
 You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 06:28:33.995 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants responded 200 in 392.7684 ms
2025-11-24 06:28:34.000 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/restaurants was executed in 0.4005322
2025-11-24 06:35:29.037 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:35:30.064 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:35:30.435 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:35:30.457 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:35:33.000 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 36.1074 ms
2025-11-24 06:35:33.018 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0734662
2025-11-24 06:35:38.450 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.0461415
2025-11-24 06:36:20.770 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (50ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:36:33.107 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:36:33.141 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:36:33.161 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:36:33.184 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:36:33.208 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 12862.4434 ms
2025-11-24 06:37:06.743 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:37:06.826 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:37:06.837 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:37:06.844 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 231.2642 ms
2025-11-24 06:37:06.846 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/users/login was executed in 0.2329157
2025-11-24 06:37:48.694 +03:00 [WRN] (Thread ) |LuckyPennySoftware.MediatR.License| 
 You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 06:39:06.082 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Starting to fetch restaurants...
2025-11-24 06:39:06.233 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (36ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[CreatedAt], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[address_City], [r0].[address_PostalCode], [r0].[address_Street], [d].[Id], [d].[Description], [d].[Name], [d].[Price], [d].[RestaurantId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[CreatedAt], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[address_City], [r].[address_PostalCode], [r].[address_Street]
    FROM [Restaurants] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]
ORDER BY [r0].[Id]
2025-11-24 06:39:06.289 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Successfully fetched Restaurant.Domain.Entities.Restaurants restaurants in 200ms
2025-11-24 06:39:06.320 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 200 in 78016.0411 ms
2025-11-24 06:40:35.165 +03:00 [INF] (Thread ) |Restaurant.Application.UserContextCQRS.UpdateUserCommandHandler| 
 My log in userId 0ae2f466-00ca-41a3-b2a0-02e5a01e2ff9, {"Id":"0ae2f466-00ca-41a3-b2a0-02e5a01e2ff9","Email":"amosmoyo5300@gmail.com","Roles":[],"$type":"CurrentUserContext"}
2025-11-24 06:40:35.218 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (18ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-11-24 06:40:35.357 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (34ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-11-24 06:40:35.373 +03:00 [INF] (Thread ) |Restaurant.Application.UserContextCQRS.UpdateUserCommandHandler| 
 Updated the user information successfully
2025-11-24 06:40:35.376 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP PATCH /api/users/update responded 204 in 10725.0435 ms
2025-11-24 06:41:45.410 +03:00 [INF] (Thread ) |Restaurant.Application.UserContextCQRS.UpdateUserCommandHandler| 
 My log in userId 0ae2f466-00ca-41a3-b2a0-02e5a01e2ff9, {"Id":"0ae2f466-00ca-41a3-b2a0-02e5a01e2ff9","Email":"amosmoyo5300@gmail.com","Roles":[],"$type":"CurrentUserContext"}
2025-11-24 06:41:46.445 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-11-24 06:42:10.380 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (32ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (DbType = Date), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-11-24 06:42:25.932 +03:00 [INF] (Thread ) |Restaurant.Application.UserContextCQRS.UpdateUserCommandHandler| 
 Updated the user information successfully
2025-11-24 06:42:34.221 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP PATCH /api/users/update responded 204 in 58145.8964 ms
2025-11-24 06:44:35.608 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Starting to fetch restaurants...
2025-11-24 06:44:35.652 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (35ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[CreatedAt], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[address_City], [r0].[address_PostalCode], [r0].[address_Street], [d].[Id], [d].[Description], [d].[Name], [d].[Price], [d].[RestaurantId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[CreatedAt], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[address_City], [r].[address_PostalCode], [r].[address_Street]
    FROM [Restaurants] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]
ORDER BY [r0].[Id]
2025-11-24 06:44:35.663 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Successfully fetched Restaurant.Domain.Entities.Restaurants restaurants in 49ms
2025-11-24 06:44:35.665 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 200 in 81439.6535 ms
2025-11-24 06:44:41.373 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Starting to fetch restaurants...
2025-11-24 06:44:41.379 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[CreatedAt], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[address_City], [r0].[address_PostalCode], [r0].[address_Street], [d].[Id], [d].[Description], [d].[Name], [d].[Price], [d].[RestaurantId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[CreatedAt], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[address_City], [r].[address_PostalCode], [r].[address_Street]
    FROM [Restaurants] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]
ORDER BY [r0].[Id]
2025-11-24 06:44:41.390 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Successfully fetched Restaurant.Domain.Entities.Restaurants restaurants in 15ms
2025-11-24 06:44:41.393 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 200 in 2239.1847 ms
2025-11-24 06:44:41.395 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/restaurants/find was executed in 2.2411973
2025-11-24 06:44:56.849 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:44:59.416 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:44:59.426 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:44:59.430 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 2612.1346 ms
2025-11-24 06:44:59.433 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/users/login was executed in 2.6148651
2025-11-24 06:47:11.204 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Starting to fetch restaurants...
2025-11-24 06:47:11.265 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (20ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[CreatedAt], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[address_City], [r0].[address_PostalCode], [r0].[address_Street], [d].[Id], [d].[Description], [d].[Name], [d].[Price], [d].[RestaurantId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[CreatedAt], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[address_City], [r].[address_PostalCode], [r].[address_Street]
    FROM [Restaurants] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]
ORDER BY [r0].[Id]
2025-11-24 06:47:11.269 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Successfully fetched Restaurant.Domain.Entities.Restaurants restaurants in 26ms
2025-11-24 06:47:11.270 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 200 in 99118.4689 ms
2025-11-24 06:56:18.086 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 06:56:19.139 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 06:56:19.810 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:56:19.916 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 06:56:22.608 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 42.1509 ms
2025-11-24 06:56:22.620 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0992716
2025-11-24 06:56:31.285 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.0642282
2025-11-24 06:57:14.137 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (69ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:57:20.286 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:57:20.332 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:57:20.358 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-24 06:57:20.396 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-11-24 06:57:20.436 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 6966.9318 ms
2025-11-24 06:58:03.377 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 403 in 31.4737 ms
2025-11-24 06:58:03.380 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/restaurants/find was executed in 0.0345213
2025-11-24 06:59:06.306 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 06:59:06.677 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 06:59:06.689 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 06:59:06.716 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 618.5060 ms
2025-11-24 06:59:06.721 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/users/login was executed in 0.6237154
2025-11-24 06:59:42.880 +03:00 [WRN] (Thread ) |LuckyPennySoftware.MediatR.License| 
 You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 06:59:48.305 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Starting to fetch restaurants...
2025-11-24 06:59:55.128 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (8ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[CreatedAt], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[address_City], [r0].[address_PostalCode], [r0].[address_Street], [d].[Id], [d].[Description], [d].[Name], [d].[Price], [d].[RestaurantId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[CreatedAt], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[address_City], [r].[address_PostalCode], [r].[address_Street]
    FROM [Restaurants] AS [r]
    WHERE [r].[Id] = @__Id_0
) AS [r0]
LEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]
ORDER BY [r0].[Id]
2025-11-24 06:59:55.234 +03:00 [INF] (Thread ) |Restaurant.Controllers.WeatherForecastController| 
 Successfully fetched Restaurant.Domain.Entities.Restaurants restaurants in 347ms
2025-11-24 06:59:55.281 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 200 in 12639.2916 ms
2025-11-24 07:00:49.345 +03:00 [WRN] (Thread ) |Microsoft.EntityFrameworkCore.Model.Validation| 
 The entity type 'Address' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2025-11-24 07:00:50.545 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 07:00:51.085 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 07:00:51.122 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 07:00:53.791 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET / responded 404 in 41.9346 ms
2025-11-24 07:00:53.804 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext / was executed in 0.0843659
2025-11-24 07:01:01.898 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /swagger/v1/swagger.json was executed in 0.0522633
2025-11-24 07:01:32.160 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (60ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-24 07:01:32.627 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-11-24 07:01:32.674 +03:00 [INF] (Thread ) |Microsoft.EntityFrameworkCore.Database.Command| 
 Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-11-24 07:01:32.726 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP POST /api/users/login responded 200 in 1188.3457 ms
2025-11-24 07:01:32.731 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/users/login was executed in 1.1937357
2025-11-24 07:02:08.162 +03:00 [INF] (Thread ) |Serilog.AspNetCore.RequestLoggingMiddleware| 
 HTTP GET /api/restaurants/find responded 403 in 21.8385 ms
2025-11-24 07:02:08.165 +03:00 [INF] (Thread ) |Restaurant.Middleware.RequestTimeMiddleware| 
 Request Microsoft.AspNetCore.Http.DefaultHttpContext /api/restaurants/find was executed in 0.0253426
